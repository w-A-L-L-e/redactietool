{% extends 'base.html' %}

{% block header %}
{% endblock %}

{% block title %}
Login
{% endblock %}

{% block content %}

  <!-- styling to be done with bulma soon... -->
  <div class="center_page">
  <p>
   <form action="/login" class="login_form" method="POST">

      <label>E-mailadres</label>
      <input name="username"/> <br/>

      <label>Wachtwoord</label>
      <input name="password" type="password"/><br/>

      {% if validation_errors %}
      <span class="form_errors">{{validation_errors}}</span>
      {% endif %}


      {% if errors %}
        <div class="alert alert-danger" role="alert">
          <strong>Errors:</strong>
          <ul class="list-unstyled">
              {% for err in errors %}
                <li>{{err}}</li>
              {% endfor %}
          </ul>
          {% if error_reason %}
              <span>{{error_reason}}</span>
          {% endif %}
        </div>
      {% endif %}

      <input 
        id="login_submit"
        onClick="loginSubmit(this);"
        type="submit" 
        value="Login"/>


    <hr/>
    <p>
      De toekomstige authenticatie is met SAML zodat je meerdere Meemoo websites
      kunt gebruiken met 1 login/logout.
    </p>
    <a href="{{ url_for('.saml_login')}}" 
      class="button saml">
      SAML Login
    </a>

  </form>

  </p>
  </div>

  <script>
    function hide_saml_auth(){
      console.log("temporarely hide saml auth when on original login page.")
      saml_header_block = document.getElementById('saml_auth_block');
      saml_header_block.style.display='none'
    }

    hide_saml_auth();
  </script>

{% endblock %}
   </body>
</html> 


